<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>External Validity</title>
		<meta name="description" content="Understanding when model retraining won&#39;t work">
		<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Processing Beliefs">
		<link rel="alternate" href="/feed/feed.json" type="application/json" title="Processing Beliefs">

		<!-- Google tag (gtag.js) -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-YSZ8X5QRT0"></script>
		<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-YSZ8X5QRT0');
		</script>
		
		<style>/**
 * okaidia theme for JavaScript, CSS and HTML
 * Loosely based on Monokai textmate theme by http://www.monokai.nl/
 * @author ocodia
 */

code[class*="language-"],
pre[class*="language-"] {
	color: #f8f8f2;
	background: none;
	text-shadow: 0 1px rgba(0, 0, 0, 0.3);
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
	border-radius: 0.3em;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #272822;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: #8292a2;
}

.token.punctuation {
	color: #f8f8f2;
}

.token.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
	color: #f92672;
}

.token.boolean,
.token.number {
	color: #ae81ff;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #a6e22e;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
	color: #f8f8f2;
}

.token.atrule,
.token.attr-value,
.token.function,
.token.class-name {
	color: #e6db74;
}

.token.keyword {
	color: #66d9ef;
}

.token.regex,
.token.important {
	color: #fd971f;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}
/*
 * New diff- syntax
 */

pre[class*="language-diff-"] {
	--eleventy-code-padding: 1.25em;
	padding-left: var(--eleventy-code-padding);
	padding-right: var(--eleventy-code-padding);
}
.token.deleted {
	background-color: hsl(0, 51%, 37%);
	color: inherit;
}
.token.inserted {
	background-color: hsl(126, 31%, 39%);
	color: inherit;
}

/* Make the + and - characters unselectable for copy/paste */
.token.prefix.unchanged,
.token.prefix.inserted,
.token.prefix.deleted {
	-webkit-user-select: none;
	user-select: none;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding-top: 2px;
	padding-bottom: 2px;
}
.token.prefix.inserted,
.token.prefix.deleted {
	width: var(--eleventy-code-padding);
	background-color: rgba(0,0,0,.2);
}

/* Optional: full-width background color */
.token.inserted:not(.prefix),
.token.deleted:not(.prefix) {
	display: block;
	margin-left: calc(-1 * var(--eleventy-code-padding));
	margin-right: calc(-1 * var(--eleventy-code-padding));
	text-decoration: none; /* override del, ins, mark defaults */
	color: inherit; /* override del, ins, mark defaults */
}
.post-metadata {
    list-style: none;
    padding: 0;
    margin: 1rem 0;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    align-items: center;
}

.post-metadata li {
    margin: 0;
}

.post-tag {
    display: inline-block;
    font-size: 0.875rem;
    background: #e5e5e5;
    padding: 0.25rem 0.75rem;
    border-radius: 0.25rem;
    text-decoration: none;
    color: inherit;
    transition: background-color 0.2s ease;
}

.post-tag:hover {
    background: #d5d5d5;
    text-decoration: none;
}

/* Table Improvements */
table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5em 0;
    font-size: 0.95em;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    border-radius: 6px;
    overflow: hidden;
}
* { box-sizing: border-box; }
/* Defaults */
:root {
	--font-family: -apple-system, system-ui, sans-serif;
	--font-family-monospace: Consolas, Menlo, Monaco, Andale Mono WT, Andale Mono, Lucida Console, Lucida Sans Typewriter, DejaVu Sans Mono, Bitstream Vera Sans Mono, Liberation Mono, Nimbus Mono L, Courier New, Courier, monospace;
}

/* Theme colors */
:root {
	--color-gray-20: #e0e0e0;
	--color-gray-50: #C0C0C0;
	--color-gray-90: #333;

	--background-color: #fff;

	--text-color: var(--color-gray-90);
	--text-color-link: #082840;
	--text-color-link-active: #5f2b48;
	--text-color-link-visited: #17050F;

	--syntax-tab-size: 2;
}

@media (prefers-color-scheme: dark) {
	:root {
		--color-gray-20: #e0e0e0;
		--color-gray-50: #C0C0C0;
		--color-gray-90: #dad8d8;

		/* --text-color is assigned to --color-gray-_ above */
		--text-color-link: #1493fb;
		--text-color-link-active: #6969f7;
		--text-color-link-visited: #a6a6f8;

		--background-color: #15202b;
	}
}


/* Global stylesheet */
* {
	box-sizing: border-box;
}

html,
body {
	padding: 0;
	margin: 0 auto;
	font-family: var(--font-family);
	color: var(--text-color);
	background-color: var(--background-color);
}
html {
	overflow-y: scroll;
}
body {
	max-width: 40em;
}

/* https://www.a11yproject.com/posts/how-to-hide-content/ */
.visually-hidden {
	clip: rect(0 0 0 0);
	clip-path: inset(50%);
	height: 1px;
	overflow: hidden;
	position: absolute;
	white-space: nowrap;
	width: 1px;
}

p:last-child {
	margin-bottom: 0;
}
p {
	line-height: 1.5;
}

li {
	line-height: 1.5;
}

a[href] {
	color: var(--text-color-link);
}
a[href]:visited {
	color: var(--text-color-link-visited);
}
a[href]:hover,
a[href]:active {
	color: var(--text-color-link-active);
}

main {
	padding: 1rem;
}
main :first-child {
	margin-top: 0;
}

header {
	border-bottom: 1px dashed var(--color-gray-20);
}
header:after {
	content: "";
	display: table;
	clear: both;
}

.links-nextprev {
	list-style: none;
	border-top: 1px dashed var(--color-gray-20);
	padding: 1em 0;
}

table {
	margin: 1em 0;
}
table td,
table th {
	padding-right: 1em;
}

pre,
code {
	font-family: var(--font-family-monospace);
}
pre:not([class*="language-"]) {
	margin: .5em 0;
	line-height: 1.375; /* 22px /16 */
	-moz-tab-size: var(--syntax-tab-size);
	-o-tab-size: var(--syntax-tab-size);
	tab-size: var(--syntax-tab-size);
	-webkit-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
}
code {
	word-break: break-all;
}

/* Header */
header {
	display: flex;
	gap: 1em .5em;
	flex-wrap: wrap;
	align-items: center;
	padding: 1em;
}
.home-link {
	font-size: 1em; /* 16px /16 */
	font-weight: 700;
	margin-right: 2em;
}
.home-link:link:not(:hover) {
	text-decoration: none;
}

/* Nav */
.nav {
	display: flex;
	padding: 0;
	margin: 0;
	list-style: none;
}
.nav-item {
	display: inline-block;
	margin-right: 1em;
}
.nav-item a[href]:not(:hover) {
	text-decoration: none;
}
.nav a[href][aria-current="page"] {
	text-decoration: underline;
}

/* Posts list */
.postlist {
	list-style: none;
	padding: 0;
	/* padding-left: 1.5rem; */
}
.postlist-item {
	display: flex;
	flex-wrap: wrap;
	align-items: baseline;
	/* counter-increment: start-from -1; */
	margin-bottom: 1em;
}

.postlist-date,
.postlist-item:before {
	font-size: 0.8125em; /* 13px /16 */
	color: var(--color-gray-90);
}
.postlist-date {
	word-spacing: -0.5px;
}
.postlist-link {
	font-size: 1.1875em; /* 19px /16 */
	font-weight: 700;
	flex-basis: 100%;
	padding-left: .25em;
	padding-right: .5em;
	text-underline-position: from-font;
	text-underline-offset: 0;
	text-decoration-thickness: 1px;
}
.postlist-item-active .postlist-link {
	font-weight: bold;
}

/* Tags */
.post-tag {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	text-transform: capitalize;
	font-style: italic;
}
.postlist-item > .post-tag {
	align-self: center;
}

/* Tags list */
.post-metadata {
	display: inline-flex;
	flex-wrap: wrap;
	gap: .5em;
	list-style: none;
	padding: 0;
	margin: 0;
}
.post-metadata time {
	margin-right: 1em;
}

/* Direct Links / Markdown Headers */
.header-anchor {
	text-decoration: none;
	font-style: normal;
	font-size: 1em;
	margin-left: .1em;
}
a[href].header-anchor,
a[href].header-anchor:visited {
	color: transparent;
}
a[href].header-anchor:focus,
a[href].header-anchor:hover {
	text-decoration: underline;
}
a[href].header-anchor:focus,
:hover > a[href].header-anchor {
	color: #aaa;
}

h2 + .header-anchor {
	font-size: 1.5em;
}

/* Table Improvements */
table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5em 0;
    font-size: 0.95em;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    border-radius: 6px;
    overflow: hidden;
}

table th {
    background-color: #f2f2f2;
    font-weight: 600;
    text-align: left;
    padding: 0.75em 1em;
    border-bottom: 2px solid #ddd;
}

table td {
    padding: 0.75em 1em;
    border-bottom: 1px solid #eee;
}

table tr:last-child td {
    border-bottom: none;
}

table tr:nth-child(even) {
    background-color: #f9f9f9;
}

table input[type="number"] {
    width: 100%;
    padding: 0.5em;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 0.9em;
}

/* Highlighted row styling */
table tr[style*="font-weight: bold"] {
    background-color: #f0f7ff;
}

/* Dark mode adjustments for tables */
@media (prefers-color-scheme: dark) {
    table th {
        background-color: #2a2a2a;
        border-bottom: 2px solid #444;
    }
    
    table td {
        border-bottom: 1px solid #333;
    }
    
    table tr:nth-child(even) {
        background-color: #1a2632;
    }
    
    table tr[style*="font-weight: bold"] {
        background-color: #1c2d3f;
    }
    
    table input[type="number"] {
        background-color: #2a2a2a;
        border-color: #444;
        color: var(--color-gray-90);
    }
}</style>
	</head>
	<body>
		<a href="#skip" class="visually-hidden">Skip to main content</a>

		<header>
			<a href="/" class="home-link">Processing Beliefs</a>
			<nav>
				<h2 class="visually-hidden">Top level navigation menu</h2>
				<ul class="nav">
					<li class="nav-item"><a href="/">Home</a></li>
					<li class="nav-item"><a href="/blog/">Archive</a></li>
					<li class="nav-item"><a href="/about/">About</a></li>
				</ul>
			</nav>
		</header>

		<main id="skip">
			

<h1>External Validity</h1>

<ul class="post-metadata">
	<li><time datetime="2026-01-14">14 January 2026</time></li>
	<li><a href="/tags/machine-learning/" class="post-tag">machine learning</a></li>
	<li><a href="/tags/statistics/" class="post-tag">statistics</a></li>
</ul>


<p>Machine learning models often degrade soon after they are launched. From widely publicized failures, like <a href="https://en.wikipedia.org/wiki/Google_Flu_Trends">Google Flu Trends</a> and <a href="https://fortune.com/2022/06/02/zillow-6-billion-home-flipping-business-housing-market-fortune-500/">Zillow's $6 billion home-flipping foray</a>, to less headline worthy cases such as accuracy dropping by <a href="https://proceedings.mlr.press/v97/recht19a/recht19a.pdf">nearly 15 percent</a> in a replication study of the widely used ImageNet benchmark dataset, ML models often perform worse in the wild than practitioners hope.</p>
<p>Most ML textbooks offer simple advice: gather new data and retrain the model. However, this only works when models degrade because the relationship between the features and the target shift, but the features still contain enough information to predict the target well. For example, a higher resolution camera may change how pixel values relate to the existence of a hot dog in an image, but it doesn't change the underlying relationship between pixels and the image's content.</p>
<p>Retraining a model with new data will not help if models degrade for other reasons -- reasons long studied in the social sciences, under the name of <em>external validity</em>, which explores the extent to which models or theories perform well on new data<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>. Understanding threats to external validity can help us better understand how well our models may perform when deployed and give us a sense of what to do when they degrade.</p>
<p>A machine learning, or statistical, model can be broken up into at least the following parts, all of which may differ between model development and deployment<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>:</p>
<ul>
<li>Y: the target that we want to explain or predict. This could be real-estate prices in Zillow's case, or whether an email is spam.</li>
<li>X: The measured features of the sample. This can be everything we would use to try to predict house prices in the Zillow example, the words in an email or the pixel values in an image. We typically hope this sample is representative of the population to which we want to deploy our model.</li>
<li>C: The unmeasured context. These are variables that we don't, or can't, measure when we train our model. This could be something like a geographic region for house prices or a different period of time.</li>
</ul>
<!-- - T: The treatment. In experiments, or causal models, we often want to measure an intervention's impact. The treatment could be a vaccine, a longer-mortgage, or a school voucher. -->
<p>Starting with the target, during training we may only be able to use proxies for what we hope to capture in the world. For spam classification, we need to come up with a definition of spam that matches what our users conceptualize as spam. For example, how should we label an email that comes from an old acquaintance pitching their startup? Similarly, political opinion polls ask respondents how they would vote if the election were today. Does this match how they actually vote? If our proxy doesn't match the outcome that the model is hoping to explain or predict, the model will not perform well in the world. Collecting more data won't help.</p>
<p>Moving to the sample, <a href="https://arxiv.org/abs/1902.10811">Recht et al.</a> built new datasets closely matching the procedures to generate two popular ML benchmark datasets: CIFAR-10 and ImageNet. They then used a variety of models trained on the original datasets and found that they all did worse on the new data, with accuracy falling by 3-15 percent on CIFAR-10 and 11-15 percent on ImageNet. These large accuracy drops despite negligible differences in labeling, the authors argue, show that when the sample is even slightly different than the population where we want to deploy our model, we may see substantial degradation. Fortunately, in this case, gathering more data from the population and retraining our model typically improves it.</p>
<p>Finally, we have context validity to understand how well the model will travel to new geographies, or time periods. <a href="https://www.cambridge.org/core/journals/american-political-science-review/article/elements-of-external-validity-framework-design-and-analysis/2D0914404C84B3F169732FF1D5E39420">Egami and Hartman</a> point out that we can think of context validity as being like sample validity, but for features that either don't change or for which we don't have data within our study. For example, a study that predicts user behavior based on 20-year-olds in Florida does not tell us directly how our model will perform on 30-year-olds in Colorado. The same thing occurs when we look to the future. <a href="https://journals.sagepub.com/doi/10.1177/20531680231187271">New technologies and new trends arise</a> that didn't exist in our training datasets. For example, the impact of writing assistant tools on student performance was likely much different in 2020, when tools were limited to simple style and grammar suggestions, than after ChatGPT's launch, when students could offload most of the writing process to the chatbot. These technological changes can break relationships that we could have previously used to make predictions. When these relationships are broken, not just tweaked, gathering more data and retraining our model won't improve it. Instead, we need to rethink the model fundamentally.</p>
<p>Understanding different threats to external validity shows that simply gathering data and retraining a model only works in a minority of cases. If the way we define our target doesn't match what a model's end users care about, or if the world changes in ways that break relationships we used for prediction, simply collecting more data won't help.</p>
<h2 id="footnotes" tabindex="-1">Footnotes <a class="header-anchor" href="#footnotes">#</a></h2>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>Typically, ML researchers perform a &quot;train/test split&quot; to try to get a sense of how well their model will perform on new data. However, this test data is typically a random subset of the training data, meaning the test comes from the same distribution as the training set. <a href="#fnref1" class="footnote-backref">â†©ï¸Ž</a></p>
</li>
<li id="fn2" class="footnote-item"><p><a href="https://www.cambridge.org/core/journals/american-political-science-review/article/elements-of-external-validity-framework-design-and-analysis/2D0914404C84B3F169732FF1D5E39420">Egami and Hartman</a> also point out the treatment as another dimension that may not travel well. For example, in an experiment we may be able to ensure the placebo group and the treatment group don't interfere with one another, but this may be more difficult when an intervention is scaled up. <a href="#fnref2" class="footnote-backref">â†©ï¸Ž</a></p>
</li>
</ol>
</section>


<script src="https://utteranc.es/client.js"
		repo="tristinb/tristinb.github.io"
		issue-term="title"
		label="ðŸ’¬"
		theme="preferred-color-scheme"
		crossorigin="anonymous"
		async>
</script>

<script src="/bundle.js"></script>
<ul class="links-nextprev"><li>Previous: <a href="/blog/nfl_wk_14_2025/nfl_week_14_daggy/">Week 14 NFL Predictions, Daggy vs Kalshi</a></li>
</ul>
		</main>

		<footer></footer>

		<!-- Current page: /blog/external_validity/ -->
	</body>
</html>
